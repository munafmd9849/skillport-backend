<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SkillPort Student Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; background: linear-gradient(135deg, #f5f8fa 0%, #e0e7ff 100%); }
    .glass-card { background: rgba(255,255,255,0.85); box-shadow: 0 8px 32px 0 rgba(31,38,135,0.10); backdrop-filter: blur(8px); border-radius: 1.5rem; }
    .stat-card { transition: transform 0.15s, box-shadow 0.15s; }
    .stat-card:hover { transform: translateY(-4px) scale(1.03); box-shadow: 0 8px 32px 0 rgba(80,80,180,0.12); }
    .quick-action:hover { box-shadow: 0 4px 16px 0 rgba(80,80,180,0.10); transform: translateY(-2px) scale(1.02); }
    .avatar { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; border: 2px solid #6366f1; }
    .cred-badge { background: #f1f5ff; color: #4f46e5; border-radius: 1rem; font-size: 0.9rem; padding: 0.2rem 0.7rem; font-weight: 600; }
    .scrollbar-hide::-webkit-scrollbar { display: none; }
  </style>
</head>
<body class="min-h-screen">
  <!-- Navbar -->
  <nav class="w-100 bg-white border-b border-gray-100 py-2 px-0 sticky-top" style="z-index: 1000;">
    <div class="container-fluid d-flex align-items-center justify-content-between px-4">
      <!-- Logo -->
      <div class="d-flex align-items-center gap-2">
        <div class="rounded-2xl bg-indigo-500 d-flex align-items-center justify-content-center" style="width: 44px; height: 44px;">
          <i class="fas fa-star-of-life text-white fs-4"></i>
        </div>
        <span class="fw-bold fs-4 text-gray-800 ms-2">SkillPort</span>
      </div>
      <!-- Nav Links -->
      <ul class="d-flex align-items-center gap-2 mb-0" style="list-style: none;">
        <li>
          <a href="student-dashboard.html" class="d-flex align-items-center gap-2 px-3 py-2 rounded-2xl bg-indigo-50 text-indigo-600 fw-semibold" style="font-size: 1.1rem;">
            <i class="fa-solid fa-house"></i> Dashboard
          </a>
        </li>
        <li>
          <a href="tracker.html" class="d-flex align-items-center gap-2 px-3 py-2 rounded-2xl text-gray-500 fw-medium hover:bg-gray-50" style="font-size: 1.1rem;">
            <i class="fa-solid fa-bullseye"></i> Tracker
          </a>
        </li>
        <li>
          <a href="stats.html" class="d-flex align-items-center gap-2 px-3 py-2 rounded-2xl text-gray-500 fw-medium hover:bg-gray-50" style="font-size: 1.1rem;">
            <i class="fa-solid fa-chart-bar"></i> Stats
          </a>
        </li>
        <li>
          <a href="profile.html" class="d-flex align-items-center gap-2 px-3 py-2 rounded-2xl text-gray-500 fw-medium hover:bg-gray-50" style="font-size: 1.1rem;">
            <i class="fa-regular fa-user"></i> Profile
          </a>
        </li>
        <li>
          <a href="projects.html" class="d-flex align-items-center gap-2 px-3 py-2 rounded-2xl text-gray-500 fw-medium hover:bg-gray-50" style="font-size: 1.1rem;">
            <i class="fa-regular fa-folder-open"></i> Projects
          </a>
        </li>
        <li>
          <a href="posts.html" class="d-flex align-items-center gap-2 px-3 py-2 rounded-2xl text-gray-500 fw-medium hover:bg-gray-50" style="font-size: 1.1rem;">
            <i class="fa-regular fa-paper-plane"></i> Posts
          </a>
        </li>
        <li>
          <a href="communities.html" class="d-flex align-items-center gap-2 px-3 py-2 rounded-2xl text-gray-500 fw-medium hover:bg-gray-50" style="font-size: 1.1rem;">
            <i class="fa-regular fa-users"></i> Communities
          </a>
        </li>
      </ul>
      <!-- Avatar -->
      <div class="ms-3 dropdown">
        <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="User Avatar" class="avatar shadow dropdown-toggle" style="width: 36px; height: 36px; border-radius: 50%; object-fit: cover;" id="userDropdown" role="button" data-bs-toggle="dropdown">
        <ul class="dropdown-menu dropdown-menu-end shadow-lg border-0" aria-labelledby="userDropdown">
          <li><a class="dropdown-item" href="profile.html">Profile</a></li>
          <li><a class="dropdown-item" href="#">Settings</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="#" onclick="logout(); return false;">Logout</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <main class="container-fluid px-4 py-4">
    <!-- Welcome & Stats Row -->
    <div class="row g-4 align-items-center mb-2">
      <div class="col-lg-8 col-12">
        <div class="mb-2">
          <h2 class="fw-bold mb-1">Welcome back, <span class="text-indigo-600">Alex!</span></h2>
          <div class="text-gray-500 mb-2 fs-5">Let's continue your learning journey.</div>
        </div>
        <div class="row g-3">
          <div class="col-md-3 col-6">
            <div class="glass-card stat-card p-4 text-center border-0">
              <div class="text-indigo-500 mb-2"><i class="fa-solid fa-bullseye fa-2x"></i></div>
              <div class="fs-3 fw-bold">23</div>
              <div class="text-gray-500">Active Tasks</div>
            </div>
          </div>
          <div class="col-md-3 col-6">
            <div class="glass-card stat-card p-4 text-center border-0">
              <div class="text-green-500 mb-2"><i class="fa-solid fa-check-circle fa-2x"></i></div>
              <div class="fs-3 fw-bold">147</div>
              <div class="text-gray-500">Completed</div>
            </div>
          </div>
          <div class="col-md-3 col-6">
            <div class="glass-card stat-card p-4 text-center border-0">
              <div class="text-purple-400 mb-2"><i class="fa-solid fa-folder-open fa-2x"></i></div>
              <div class="fs-3 fw-bold">8</div>
              <div class="text-gray-500">Projects</div>
            </div>
          </div>
          <div class="col-md-3 col-6">
            <div class="glass-card stat-card p-4 text-center border-0">
              <div class="text-yellow-400 mb-2"><i class="fa-solid fa-users fa-2x"></i></div>
              <div class="fs-3 fw-bold">0</div>
              <div class="text-gray-500">Communities</div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-4 col-12 d-flex flex-column align-items-end justify-content-center">
        <div class="d-flex align-items-center gap-2">
          <div class="fs-2 fw-bold text-indigo-600">847</div>
          <div class="d-flex flex-column align-items-start">
            <span class="cred-badge">Credibility Score</span>
            <span class="badge bg-warning text-dark mt-1">Expert</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Quick Actions & Recent Activity -->
    <div class="row g-4 mb-2">
      <div class="col-lg-8 col-12">
        <div class="glass-card p-4 mb-4">
          <div class="fw-bold fs-5 mb-3"><i class="fa-solid fa-plus me-2"></i>Quick Actions</div>
          <div class="row g-3">
            <div class="col-md-6 col-12">
              <div class="quick-action d-flex align-items-center p-3 rounded-lg bg-indigo-50 mb-2 cursor-pointer transition" style="min-height:70px;">
                <div class="me-3 text-indigo-500 fs-3"><i class="fa-solid fa-bullseye"></i></div>
                <div>
                  <div class="fw-semibold">Manage Tasks</div>
                  <div class="text-gray-500 small">Add and organize your learning tasks</div>
                </div>
              </div>
            </div>
            <div class="col-md-6 col-12">
              <div class="quick-action d-flex align-items-center p-3 rounded-lg bg-purple-50 mb-2 cursor-pointer transition" style="min-height:70px;">
                <div class="me-3 text-purple-500 fs-3"><i class="fa-solid fa-chart-bar"></i></div>
                <div>
                  <div class="fw-semibold">View Stats</div>
                  <div class="text-gray-500 small">Check your coding platform progress</div>
                </div>
              </div>
            </div>
            <div class="col-md-6 col-12">
              <div class="quick-action d-flex align-items-center p-3 rounded-lg bg-green-50 mb-2 cursor-pointer transition" style="min-height:70px;">
                <div class="me-3 text-green-500 fs-3"><i class="fa-solid fa-folder-open"></i></div>
                <div>
                  <div class="fw-semibold">Manage Projects</div>
                  <div class="text-gray-500 small">Showcase your latest work</div>
                </div>
              </div>
            </div>
            <div class="col-md-6 col-12">
              <div class="quick-action d-flex align-items-center p-3 rounded-lg bg-yellow-50 mb-2 cursor-pointer transition" style="min-height:70px;">
                <div class="me-3 text-yellow-500 fs-3"><i class="fa-solid fa-pen-nib"></i></div>
                <div>
                  <div class="fw-semibold">Write Posts</div>
                  <div class="text-gray-500 small">Share your learning journey</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-4 col-12">
        <div class="glass-card p-4 h-100">
          <div class="fw-bold fs-5 mb-3"><i class="fa-solid fa-clock me-2"></i>Recent Activity</div>
          <ul class="list-unstyled mb-0 scrollbar-hide" style="max-height: 260px; overflow-y: auto;">
            <li class="mb-3 d-flex align-items-start">
              <span class="me-3 text-indigo-500 fs-5"><i class="fa-solid fa-code"></i></span>
              <div>
                <div class="fw-semibold">Completed Binary Search Implementation</div>
                <div class="text-gray-400 small">2 hours ago</div>
              </div>
            </li>
            <li class="mb-3 d-flex align-items-start">
              <span class="me-3 text-green-500 fs-5"><i class="fa-solid fa-cloud-upload-alt"></i></span>
              <div>
                <div class="fw-semibold">Updated Weather App Repository</div>
                <div class="text-gray-400 small">1 day ago</div>
              </div>
            </li>
            <li class="mb-3 d-flex align-items-start">
              <span class="me-3 text-purple-500 fs-5"><i class="fa-solid fa-book-open"></i></span>
              <div>
                <div class="fw-semibold">Published Learning Reflection</div>
                <div class="text-gray-400 small">3 days ago</div>
              </div>
            </li>
            <li class="mb-3 d-flex align-items-start">
              <span class="me-3 text-yellow-500 fs-5"><i class="fa-solid fa-lightbulb"></i></span>
              <div>
                <div class="fw-semibold">Solved 5 LeetCode Problems</div>
                <div class="text-gray-400 small">1 week ago</div>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Communities Section -->
    <div class="row g-4">
      <div class="col-12">
        <div class="glass-card p-4">
          <div class="fw-bold fs-5 mb-3"><i class="fa-solid fa-users me-2"></i>Communities</div>
          <div class="d-flex flex-column align-items-center justify-content-center py-4">
            <div class="text-5xl text-gray-300 mb-2"><i class="fa-solid fa-users"></i></div>
            <div class="fw-semibold fs-5 mb-1">Join a Community</div>
            <div class="text-gray-500 mb-3">Connect with others and participate in community challenges</div>
            <a href="#" class="btn btn-primary btn-lg px-4 shadow">+ Explore Communities</a>
          </div>
        </div>
      </div>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- Authentication Script -->
  <script src="../auth.js"></script>
  <script>
    // Check if user is authorized to access this page
    document.addEventListener('DOMContentLoaded', function() {
      // Check if user is logged in
      if (!isLoggedIn()) {
        window.location.href = '../index.html';
        return;
      }
      
      // Check if user has the correct role
      const user = getCurrentUser();
      if (!user || user.role !== 'student') {
        window.location.href = '../index.html';
        return;
      }
    });
  </script>
</body>
</html>